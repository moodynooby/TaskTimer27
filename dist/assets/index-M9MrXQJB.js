(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))o(e);new MutationObserver(e=>{for(const s of e)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&o(r)}).observe(document,{childList:!0,subtree:!0});function i(e){const s={};return e.integrity&&(s.integrity=e.integrity),e.referrerPolicy&&(s.referrerPolicy=e.referrerPolicy),e.crossOrigin==="use-credentials"?s.credentials="include":e.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function o(e){if(e.ep)return;e.ep=!0;const s=i(e);fetch(e.href,s)}})();class a{constructor(){this.currentMode="stopwatch",this.isRunning=!1,this.time=0,this.pomodoroSettings={workDuration:50*60,breakDuration:10*60,isWorkTime:!0,remainingTime:50*60},this.elements={startBtn:document.getElementById("startBtn"),resetBtn:document.getElementById("resetBtn"),modeToggleBtn:document.getElementById("modeToggleBtn"),timeDisplay:document.querySelector(".time"),timerMode:document.querySelector(".timer-mode"),progressRing:document.querySelector(".progress-ring-circle"),pomodoroSettings:document.querySelector(".pomodoro-settings"),workDurationInput:document.getElementById("workDuration"),breakDurationInput:document.getElementById("breakDuration"),notificationSound:document.getElementById("notificationSound")},this.setupEventListeners(),this.updateDisplay()}setupEventListeners(){this.elements.startBtn.addEventListener("click",()=>this.toggleTimer()),this.elements.resetBtn.addEventListener("click",()=>this.resetTimer()),this.elements.modeToggleBtn.addEventListener("click",()=>this.toggleMode()),this.elements.workDurationInput.addEventListener("change",t=>{const i=Math.max(1,Math.min(120,parseInt(t.target.value)||50));this.elements.workDurationInput.value=i,this.pomodoroSettings.workDuration=i*60,this.pomodoroSettings.isWorkTime&&(this.pomodoroSettings.remainingTime=this.pomodoroSettings.workDuration,this.updateDisplay())}),this.elements.breakDurationInput.addEventListener("change",t=>{const i=Math.max(1,Math.min(30,parseInt(t.target.value)||10));this.elements.breakDurationInput.value=i,this.pomodoroSettings.breakDuration=i*60,this.pomodoroSettings.isWorkTime||(this.pomodoroSettings.remainingTime=this.pomodoroSettings.breakDuration,this.updateDisplay())})}toggleTimer(){this.isRunning=!this.isRunning,this.elements.startBtn.innerHTML=this.isRunning?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><rect x="6" y="4" width="4" height="16"/><rect x="14" y="4" width="4" height="16"/></svg>':'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>',this.isRunning?this.timerInterval=setInterval(()=>this.updateTimer(),1e3):clearInterval(this.timerInterval)}updateTimer(){this.currentMode==="stopwatch"?this.time++:(this.pomodoroSettings.remainingTime--,this.pomodoroSettings.remainingTime<=0&&(this.elements.notificationSound.play().catch(t=>console.log("Audio playback failed:",t)),this.pomodoroSettings.isWorkTime=!this.pomodoroSettings.isWorkTime,this.pomodoroSettings.remainingTime=this.pomodoroSettings.isWorkTime?this.pomodoroSettings.workDuration:this.pomodoroSettings.breakDuration)),this.updateDisplay()}resetTimer(){this.isRunning=!1,clearInterval(this.timerInterval),this.currentMode==="stopwatch"?this.time=0:(this.pomodoroSettings.isWorkTime=!0,this.pomodoroSettings.remainingTime=this.pomodoroSettings.workDuration),this.elements.startBtn.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><polygon points="5 3 19 12 5 21 5 3"/></svg>',this.updateDisplay()}toggleMode(){this.currentMode=this.currentMode==="stopwatch"?"pomodoro":"stopwatch",this.isRunning=!1,clearInterval(this.timerInterval),this.elements.modeToggleBtn.textContent=`Switch to ${this.currentMode==="stopwatch"?"Pomodoro":"Stopwatch"}`,this.elements.pomodoroSettings.style.display=this.currentMode==="pomodoro"?"block":"none",this.currentMode==="stopwatch"?(this.time=0,this.elements.progressRing.style.strokeDasharray="0 565.48"):(this.pomodoroSettings.isWorkTime=!0,this.pomodoroSettings.remainingTime=this.pomodoroSettings.workDuration),this.updateDisplay()}formatTime(t){const i=Math.floor(t/3600),o=Math.floor(t%3600/60),e=t%60;return`${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}updateDisplay(){const t=this.currentMode==="stopwatch"?this.time:this.pomodoroSettings.remainingTime;if(this.elements.timeDisplay.textContent=this.formatTime(t),this.elements.timerMode.textContent=this.currentMode==="stopwatch"?"Stopwatch Mode":`${this.pomodoroSettings.isWorkTime?"Work":"Break"} Time`,this.currentMode==="pomodoro"){const i=this.pomodoroSettings.isWorkTime?this.pomodoroSettings.workDuration:this.pomodoroSettings.breakDuration,o=1-this.pomodoroSettings.remainingTime/i,e=2*Math.PI*90;this.elements.progressRing.style.strokeDasharray=`${e} ${e}`,this.elements.progressRing.style.strokeDashoffset=e*(1-o)}else this.elements.progressRing.style.strokeDasharray="0 565.48"}}class h{constructor(){this.tasks=[],this.elements={taskInput:document.getElementById("taskInput"),addTaskBtn:document.getElementById("addTaskBtn"),taskList:document.getElementById("taskList")},this.setupEventListeners(),this.loadTasks()}setupEventListeners(){this.elements.addTaskBtn.addEventListener("click",()=>this.addTask()),this.elements.taskInput.addEventListener("keypress",t=>{t.key==="Enter"&&this.addTask()})}addTask(){const t=this.elements.taskInput.value.trim();if(!t)return;const i={id:Date.now().toString(),title:t,completed:!1,elapsedTime:0};this.tasks.push(i),this.elements.taskInput.value="",this.saveTasks(),this.renderTasks()}toggleTaskComplete(t){const i=this.tasks.find(o=>o.id===t);i&&(i.completed=!i.completed,this.saveTasks(),this.renderTasks())}deleteTask(t){this.tasks=this.tasks.filter(i=>i.id!==t),this.saveTasks(),this.renderTasks()}formatTime(t){const i=Math.floor(t/3600),o=Math.floor(t%3600/60),e=t%60;return`${i.toString().padStart(2,"0")}:${o.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`}renderTasks(){this.elements.taskList.innerHTML=this.tasks.map(t=>`
            <div class="task-item">
                <div class="task-header">
                    <div class="task-title ${t.completed?"completed":""}">
                        <button onclick="taskManager.toggleTaskComplete('${t.id}')">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                ${t.completed?'<path d="M20 6L9 17l-5-5"/>':'<circle cx="12" cy="12" r="10"/>'}
                            </svg>
                        </button>
                        ${t.title}
                    </div>
                    <button class="delete-btn" onclick="taskManager.deleteTask('${t.id}')">
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                            <path d="M3 6h18"/><path d="M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6"/><path d="M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2"/>
                        </svg>
                    </button>
                </div>
                ${t.completed?"":`<div class="task-timer">${this.formatTime(t.elapsedTime)}</div>`}
            </div>
        `).join("")}saveTasks(){localStorage.setItem("tasks",JSON.stringify(this.tasks))}loadTasks(){const t=localStorage.getItem("tasks");t&&(this.tasks=JSON.parse(t),this.renderTasks())}}class l{constructor(){this.theme=localStorage.getItem("theme")||"light",this.themeToggle=document.getElementById("themeToggle"),this.initialize(),this.setupEventListeners()}initialize(){document.documentElement.setAttribute("data-theme",this.theme),this.updateThemeIcon()}setupEventListeners(){this.themeToggle.addEventListener("click",()=>this.toggleTheme())}toggleTheme(){this.theme=this.theme==="light"?"dark":"light",document.documentElement.setAttribute("data-theme",this.theme),localStorage.setItem("theme",this.theme),this.updateThemeIcon()}updateThemeIcon(){this.themeToggle.innerHTML=this.theme==="light"?'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path></svg>':'<svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg>'}}window.timer=new a;window.taskManager=new h;window.themeManager=new l;
