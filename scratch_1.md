Rewrite JS and keep radial and timer from diasy ui